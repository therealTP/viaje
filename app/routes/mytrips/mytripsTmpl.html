<div class="view-body">
  <menu-bar user-data="userData" trip-data="tripData"></menu-bar>
  <div class="page-heading col-sm-3">
    <h1>MY TRIPS</h1>
  </div>
  <div ng-hide="userData.onTrip" class="latest-trip-info col-sm-3">
    <h5>Not currently on a trip.</h5>
    <span>Latest trip: {{tripData.latestTrip.name}}</span>
  </div>
  <div ng-show="userData.onTrip" class="current-trip-info ">
    <span>Current Trip:  {{tripData.latestTrip.name}}</span>
  </div>

  <form ng-hide="userData.onTrip" class="new-trip-form col-sm-12 form-inline">
    <h3>Start a new trip, when you've arrived to first stop: </h3>
    <div class="form-group">
      <label for="new-trip-name">New Trip Name</label>
      <input ng-model="newTrip.name" id="new-trip-name" class="form-control" type="text" placeholder="Enter new trip name">
    </div>
    <div class="form-group">
      <label for="place-search-input">First stop: </label>
        <city-search city-data="firstStopObj.stopData"></city-search>
    </div>
    <button ng-click="startTrip(newTrip, firstStopObj)" class="btn">Start Trip</button>
  </form>

  <div class="form-container col-xs-12">
    <form class="new-trip-form form-inline">
      <div class="form-heading-container">
        <h5>Add a completed trip:</h5>
      </div>
      <div class="form-group">
        <label for="old-trip-name">New Trip Name</label>
        <input ng-model="oldTripObj.name" id="old-trip-name" class="form-control" type="text" placeholder="Enter a trip name">
      </div>
      <div class="form-group">
        <label for="start-date-input">Start Date: </label>
        <input type="date" ng-model="oldTripObj.startTimestamp" id="start-date-input">
      </div>
      <div class="form-group">
        <label for="end-date-input">End Date: </label>
        <input type="date" ng-model="oldTripObj.endTimestamp" id="end-date-input">
      </div>
      <div class="button-group form-group">
        <button ng-click="addPastTrip(oldTripObj)" class="btn btn-primary">Add Trip</button>
      </div>
    </form>


  <div class="trip-box-container col-xs-12">
    <div class="trip-box col-xs-12 col-sm-2 col-md-3 col-lg-4" ng-repeat="trip in tripData.allTrips">
      <p>
        Name: {{trip.name}}
      </p>
      <p>
        <a ui-sref="trip({tripId: trip.$id})" href="">Go To Trip Page</a>
      </p>
    </div>
  </div>
</div>
